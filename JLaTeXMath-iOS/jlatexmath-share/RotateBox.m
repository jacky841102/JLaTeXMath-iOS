//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/jacky/GSoC/GeoGebraiOSARC/GeoGebraiOSARC/javasources/org/scilab/forge/jlatexmath/RotateBox.java
//


#include "Box.h"
#include "Geom.h"
#include "Graphics2DInterface.h"
#include "J2ObjC_source.h"
#include "Point2D.h"
#include "RotateBox.h"
#include "java/lang/Math.h"

@interface OrgScilabForgeJlatexmathRotateBox () {
 @public
  OrgScilabForgeJlatexmathBox *box_;
  jfloat xmax_, xmin_, ymax_, ymin_;
  jfloat shiftX_;
  jfloat shiftY_;
}

+ (id<OrgScilabForgeJlatexmathPlatformGeomPoint2D>)calculateShiftWithOrgScilabForgeJlatexmathBox:(OrgScilabForgeJlatexmathBox *)b
                                                                                         withInt:(jint)option;

@end

J2OBJC_FIELD_SETTER(OrgScilabForgeJlatexmathRotateBox, box_, OrgScilabForgeJlatexmathBox *)

__attribute__((unused)) static id<OrgScilabForgeJlatexmathPlatformGeomPoint2D> OrgScilabForgeJlatexmathRotateBox_calculateShiftWithOrgScilabForgeJlatexmathBox_withInt_(OrgScilabForgeJlatexmathBox *b, jint option);

@implementation OrgScilabForgeJlatexmathRotateBox

- (instancetype)initWithOrgScilabForgeJlatexmathBox:(OrgScilabForgeJlatexmathBox *)b
                                         withDouble:(jdouble)angle
                                          withFloat:(jfloat)x
                                          withFloat:(jfloat)y {
  OrgScilabForgeJlatexmathRotateBox_initWithOrgScilabForgeJlatexmathBox_withDouble_withFloat_withFloat_(self, b, angle, x, y);
  return self;
}

- (instancetype)initWithOrgScilabForgeJlatexmathBox:(OrgScilabForgeJlatexmathBox *)b
                                         withDouble:(jdouble)angle
    withOrgScilabForgeJlatexmathPlatformGeomPoint2D:(id<OrgScilabForgeJlatexmathPlatformGeomPoint2D>)origin {
  OrgScilabForgeJlatexmathRotateBox_initWithOrgScilabForgeJlatexmathBox_withDouble_withOrgScilabForgeJlatexmathPlatformGeomPoint2D_(self, b, angle, origin);
  return self;
}

- (instancetype)initWithOrgScilabForgeJlatexmathBox:(OrgScilabForgeJlatexmathBox *)b
                                         withDouble:(jdouble)angle
                                            withInt:(jint)option {
  OrgScilabForgeJlatexmathRotateBox_initWithOrgScilabForgeJlatexmathBox_withDouble_withInt_(self, b, angle, option);
  return self;
}

+ (jint)getOriginWithNSString:(NSString *)option {
  return OrgScilabForgeJlatexmathRotateBox_getOriginWithNSString_(option);
}

+ (id<OrgScilabForgeJlatexmathPlatformGeomPoint2D>)calculateShiftWithOrgScilabForgeJlatexmathBox:(OrgScilabForgeJlatexmathBox *)b
                                                                                         withInt:(jint)option {
  return OrgScilabForgeJlatexmathRotateBox_calculateShiftWithOrgScilabForgeJlatexmathBox_withInt_(b, option);
}

- (void)drawWithOrgScilabForgeJlatexmathPlatformGraphicsGraphics2DInterface:(id<OrgScilabForgeJlatexmathPlatformGraphicsGraphics2DInterface>)g2
                                                                  withFloat:(jfloat)x
                                                                  withFloat:(jfloat)y {
  [self drawDebugWithOrgScilabForgeJlatexmathPlatformGraphicsGraphics2DInterface:g2 withFloat:x withFloat:y];
  [((OrgScilabForgeJlatexmathBox *) nil_chk(box_)) drawDebugWithOrgScilabForgeJlatexmathPlatformGraphicsGraphics2DInterface:g2 withFloat:x withFloat:y withBoolean:YES];
  y -= shiftY_;
  x += shiftX_ - xmin_;
  [((id<OrgScilabForgeJlatexmathPlatformGraphicsGraphics2DInterface>) nil_chk(g2)) rotateWithDouble:-angle_ withDouble:x withDouble:y];
  [box_ drawWithOrgScilabForgeJlatexmathPlatformGraphicsGraphics2DInterface:g2 withFloat:x withFloat:y];
  [box_ drawDebugWithOrgScilabForgeJlatexmathPlatformGraphicsGraphics2DInterface:g2 withFloat:x withFloat:y withBoolean:YES];
  [g2 rotateWithDouble:angle_ withDouble:x withDouble:y];
}

- (jint)getLastFontId {
  return [((OrgScilabForgeJlatexmathBox *) nil_chk(box_)) getLastFontId];
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "initWithOrgScilabForgeJlatexmathBox:withDouble:withFloat:withFloat:", "RotateBox", NULL, 0x1, NULL, NULL },
    { "initWithOrgScilabForgeJlatexmathBox:withDouble:withOrgScilabForgeJlatexmathPlatformGeomPoint2D:", "RotateBox", NULL, 0x1, NULL, NULL },
    { "initWithOrgScilabForgeJlatexmathBox:withDouble:withInt:", "RotateBox", NULL, 0x1, NULL, NULL },
    { "getOriginWithNSString:", "getOrigin", "I", 0x9, NULL, NULL },
    { "calculateShiftWithOrgScilabForgeJlatexmathBox:withInt:", "calculateShift", "Lorg.scilab.forge.jlatexmath.platform.geom.Point2D;", 0xa, NULL, NULL },
    { "drawWithOrgScilabForgeJlatexmathPlatformGraphicsGraphics2DInterface:withFloat:withFloat:", "draw", "V", 0x1, NULL, NULL },
    { "getLastFontId", NULL, "I", 0x1, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "BL_", NULL, 0x19, "I", NULL, NULL, .constantValue.asInt = OrgScilabForgeJlatexmathRotateBox_BL },
    { "BC_", NULL, 0x19, "I", NULL, NULL, .constantValue.asInt = OrgScilabForgeJlatexmathRotateBox_BC },
    { "BR_", NULL, 0x19, "I", NULL, NULL, .constantValue.asInt = OrgScilabForgeJlatexmathRotateBox_BR },
    { "TL_", NULL, 0x19, "I", NULL, NULL, .constantValue.asInt = OrgScilabForgeJlatexmathRotateBox_TL },
    { "TC_", NULL, 0x19, "I", NULL, NULL, .constantValue.asInt = OrgScilabForgeJlatexmathRotateBox_TC },
    { "TR_", NULL, 0x19, "I", NULL, NULL, .constantValue.asInt = OrgScilabForgeJlatexmathRotateBox_TR },
    { "BBL_", NULL, 0x19, "I", NULL, NULL, .constantValue.asInt = OrgScilabForgeJlatexmathRotateBox_BBL },
    { "BBR_", NULL, 0x19, "I", NULL, NULL, .constantValue.asInt = OrgScilabForgeJlatexmathRotateBox_BBR },
    { "BBC_", NULL, 0x19, "I", NULL, NULL, .constantValue.asInt = OrgScilabForgeJlatexmathRotateBox_BBC },
    { "CL_", NULL, 0x19, "I", NULL, NULL, .constantValue.asInt = OrgScilabForgeJlatexmathRotateBox_CL },
    { "CC_", NULL, 0x19, "I", NULL, NULL, .constantValue.asInt = OrgScilabForgeJlatexmathRotateBox_CC },
    { "CR_", NULL, 0x19, "I", NULL, NULL, .constantValue.asInt = OrgScilabForgeJlatexmathRotateBox_CR },
    { "angle_", NULL, 0x4, "D", NULL, NULL,  },
    { "box_", NULL, 0x2, "Lorg.scilab.forge.jlatexmath.Box;", NULL, NULL,  },
    { "xmax_", NULL, 0x2, "F", NULL, NULL,  },
    { "xmin_", NULL, 0x2, "F", NULL, NULL,  },
    { "ymax_", NULL, 0x2, "F", NULL, NULL,  },
    { "ymin_", NULL, 0x2, "F", NULL, NULL,  },
    { "shiftX_", NULL, 0x2, "F", NULL, NULL,  },
    { "shiftY_", NULL, 0x2, "F", NULL, NULL,  },
  };
  static const J2ObjcClassInfo _OrgScilabForgeJlatexmathRotateBox = { 2, "RotateBox", "org.scilab.forge.jlatexmath", NULL, 0x1, 7, methods, 20, fields, 0, NULL, 0, NULL, NULL, NULL };
  return &_OrgScilabForgeJlatexmathRotateBox;
}

@end

void OrgScilabForgeJlatexmathRotateBox_initWithOrgScilabForgeJlatexmathBox_withDouble_withFloat_withFloat_(OrgScilabForgeJlatexmathRotateBox *self, OrgScilabForgeJlatexmathBox *b, jdouble angle, jfloat x, jfloat y) {
  (void) OrgScilabForgeJlatexmathBox_init(self);
  self->angle_ = 0;
  self->box_ = b;
  self->angle_ = angle * JavaLangMath_PI / 180;
  self->height_ = ((OrgScilabForgeJlatexmathBox *) nil_chk(b))->height_;
  self->depth_ = b->depth_;
  self->width_ = b->width_;
  jdouble s = JavaLangMath_sinWithDouble_(self->angle_);
  jdouble c = JavaLangMath_cosWithDouble_(self->angle_);
  self->shiftX_ = (jfloat) (x * (1 - c) + y * s);
  self->shiftY_ = (jfloat) (y * (1 - c) - x * s);
  self->xmax_ = (jfloat) JavaLangMath_maxWithDouble_withDouble_(-self->height_ * s, JavaLangMath_maxWithDouble_withDouble_(self->depth_ * s, JavaLangMath_maxWithDouble_withDouble_(self->width_ * c + self->depth_ * s, self->width_ * c - self->height_ * s))) + self->shiftX_;
  self->xmin_ = (jfloat) JavaLangMath_minWithDouble_withDouble_(-self->height_ * s, JavaLangMath_minWithDouble_withDouble_(self->depth_ * s, JavaLangMath_minWithDouble_withDouble_(self->width_ * c + self->depth_ * s, self->width_ * c - self->height_ * s))) + self->shiftX_;
  self->ymax_ = (jfloat) JavaLangMath_maxWithDouble_withDouble_(self->height_ * c, JavaLangMath_maxWithDouble_withDouble_(-self->depth_ * c, JavaLangMath_maxWithDouble_withDouble_(self->width_ * s - self->depth_ * c, self->width_ * s + self->height_ * c)));
  self->ymin_ = (jfloat) JavaLangMath_minWithDouble_withDouble_(self->height_ * c, JavaLangMath_minWithDouble_withDouble_(-self->depth_ * c, JavaLangMath_minWithDouble_withDouble_(self->width_ * s - self->depth_ * c, self->width_ * s + self->height_ * c)));
  self->width_ = self->xmax_ - self->xmin_;
  self->height_ = self->ymax_ + self->shiftY_;
  self->depth_ = -self->ymin_ - self->shiftY_;
}

OrgScilabForgeJlatexmathRotateBox *new_OrgScilabForgeJlatexmathRotateBox_initWithOrgScilabForgeJlatexmathBox_withDouble_withFloat_withFloat_(OrgScilabForgeJlatexmathBox *b, jdouble angle, jfloat x, jfloat y) {
  OrgScilabForgeJlatexmathRotateBox *self = [OrgScilabForgeJlatexmathRotateBox alloc];
  OrgScilabForgeJlatexmathRotateBox_initWithOrgScilabForgeJlatexmathBox_withDouble_withFloat_withFloat_(self, b, angle, x, y);
  return self;
}

void OrgScilabForgeJlatexmathRotateBox_initWithOrgScilabForgeJlatexmathBox_withDouble_withOrgScilabForgeJlatexmathPlatformGeomPoint2D_(OrgScilabForgeJlatexmathRotateBox *self, OrgScilabForgeJlatexmathBox *b, jdouble angle, id<OrgScilabForgeJlatexmathPlatformGeomPoint2D> origin) {
  (void) OrgScilabForgeJlatexmathRotateBox_initWithOrgScilabForgeJlatexmathBox_withDouble_withFloat_withFloat_(self, b, angle, (jfloat) [((id<OrgScilabForgeJlatexmathPlatformGeomPoint2D>) nil_chk(origin)) getX], (jfloat) [origin getY]);
}

OrgScilabForgeJlatexmathRotateBox *new_OrgScilabForgeJlatexmathRotateBox_initWithOrgScilabForgeJlatexmathBox_withDouble_withOrgScilabForgeJlatexmathPlatformGeomPoint2D_(OrgScilabForgeJlatexmathBox *b, jdouble angle, id<OrgScilabForgeJlatexmathPlatformGeomPoint2D> origin) {
  OrgScilabForgeJlatexmathRotateBox *self = [OrgScilabForgeJlatexmathRotateBox alloc];
  OrgScilabForgeJlatexmathRotateBox_initWithOrgScilabForgeJlatexmathBox_withDouble_withOrgScilabForgeJlatexmathPlatformGeomPoint2D_(self, b, angle, origin);
  return self;
}

void OrgScilabForgeJlatexmathRotateBox_initWithOrgScilabForgeJlatexmathBox_withDouble_withInt_(OrgScilabForgeJlatexmathRotateBox *self, OrgScilabForgeJlatexmathBox *b, jdouble angle, jint option) {
  (void) OrgScilabForgeJlatexmathRotateBox_initWithOrgScilabForgeJlatexmathBox_withDouble_withOrgScilabForgeJlatexmathPlatformGeomPoint2D_(self, b, angle, OrgScilabForgeJlatexmathRotateBox_calculateShiftWithOrgScilabForgeJlatexmathBox_withInt_(b, option));
}

OrgScilabForgeJlatexmathRotateBox *new_OrgScilabForgeJlatexmathRotateBox_initWithOrgScilabForgeJlatexmathBox_withDouble_withInt_(OrgScilabForgeJlatexmathBox *b, jdouble angle, jint option) {
  OrgScilabForgeJlatexmathRotateBox *self = [OrgScilabForgeJlatexmathRotateBox alloc];
  OrgScilabForgeJlatexmathRotateBox_initWithOrgScilabForgeJlatexmathBox_withDouble_withInt_(self, b, angle, option);
  return self;
}

jint OrgScilabForgeJlatexmathRotateBox_getOriginWithNSString_(NSString *option) {
  OrgScilabForgeJlatexmathRotateBox_initialize();
  if (option == nil || ((jint) [option length]) == 0) {
    return OrgScilabForgeJlatexmathRotateBox_BBL;
  }
  if (((jint) [((NSString *) nil_chk(option)) length]) == 1) {
    option = JreStrcat("$C", option, 'c');
  }
  if ([option isEqual:@"bl"] || [option isEqual:@"lb"]) {
    return OrgScilabForgeJlatexmathRotateBox_BL;
  }
  else if ([option isEqual:@"bc"] || [option isEqual:@"cb"]) {
    return OrgScilabForgeJlatexmathRotateBox_BC;
  }
  else if ([option isEqual:@"br"] || [option isEqual:@"rb"]) {
    return OrgScilabForgeJlatexmathRotateBox_BR;
  }
  else if ([option isEqual:@"cl"] || [option isEqual:@"lc"]) {
    return OrgScilabForgeJlatexmathRotateBox_CL;
  }
  else if ([option isEqual:@"cc"]) {
    return OrgScilabForgeJlatexmathRotateBox_CC;
  }
  else if ([option isEqual:@"cr"] || [option isEqual:@"cr"]) {
    return OrgScilabForgeJlatexmathRotateBox_CR;
  }
  else if ([option isEqual:@"tl"] || [option isEqual:@"lt"]) {
    return OrgScilabForgeJlatexmathRotateBox_TL;
  }
  else if ([option isEqual:@"tc"] || [option isEqual:@"ct"]) {
    return OrgScilabForgeJlatexmathRotateBox_TC;
  }
  else if ([option isEqual:@"tr"] || [option isEqual:@"rt"]) {
    return OrgScilabForgeJlatexmathRotateBox_TR;
  }
  else if ([option isEqual:@"Bl"] || [option isEqual:@"lB"]) {
    return OrgScilabForgeJlatexmathRotateBox_BBL;
  }
  else if ([option isEqual:@"Bc"] || [option isEqual:@"cB"]) {
    return OrgScilabForgeJlatexmathRotateBox_BBC;
  }
  else if ([option isEqual:@"Br"] || [option isEqual:@"rB"]) {
    return OrgScilabForgeJlatexmathRotateBox_BBR;
  }
  else return OrgScilabForgeJlatexmathRotateBox_BBL;
}

id<OrgScilabForgeJlatexmathPlatformGeomPoint2D> OrgScilabForgeJlatexmathRotateBox_calculateShiftWithOrgScilabForgeJlatexmathBox_withInt_(OrgScilabForgeJlatexmathBox *b, jint option) {
  OrgScilabForgeJlatexmathRotateBox_initialize();
  id<OrgScilabForgeJlatexmathPlatformGeomPoint2D> p = [new_OrgScilabForgeJlatexmathPlatformGeom_init() createPoint2DWithDouble:0 withDouble:-((OrgScilabForgeJlatexmathBox *) nil_chk(b))->depth_];
  switch (option) {
    case OrgScilabForgeJlatexmathRotateBox_BL:
    [((id<OrgScilabForgeJlatexmathPlatformGeomPoint2D>) nil_chk(p)) setXWithDouble:0];
    [p setYWithDouble:-b->depth_];
    break;
    case OrgScilabForgeJlatexmathRotateBox_BR:
    [((id<OrgScilabForgeJlatexmathPlatformGeomPoint2D>) nil_chk(p)) setXWithDouble:b->width_];
    [p setYWithDouble:-b->depth_];
    break;
    case OrgScilabForgeJlatexmathRotateBox_BC:
    [((id<OrgScilabForgeJlatexmathPlatformGeomPoint2D>) nil_chk(p)) setXWithDouble:b->width_ / 2];
    [p setYWithDouble:-b->depth_];
    break;
    case OrgScilabForgeJlatexmathRotateBox_TL:
    [((id<OrgScilabForgeJlatexmathPlatformGeomPoint2D>) nil_chk(p)) setXWithDouble:0];
    [p setYWithDouble:b->height_];
    break;
    case OrgScilabForgeJlatexmathRotateBox_TR:
    [((id<OrgScilabForgeJlatexmathPlatformGeomPoint2D>) nil_chk(p)) setXWithDouble:b->width_];
    [p setYWithDouble:b->height_];
    break;
    case OrgScilabForgeJlatexmathRotateBox_TC:
    [((id<OrgScilabForgeJlatexmathPlatformGeomPoint2D>) nil_chk(p)) setXWithDouble:b->width_ / 2];
    [p setYWithDouble:b->height_];
    break;
    case OrgScilabForgeJlatexmathRotateBox_BBL:
    [((id<OrgScilabForgeJlatexmathPlatformGeomPoint2D>) nil_chk(p)) setXWithDouble:0];
    [p setYWithDouble:0];
    break;
    case OrgScilabForgeJlatexmathRotateBox_BBR:
    [((id<OrgScilabForgeJlatexmathPlatformGeomPoint2D>) nil_chk(p)) setXWithDouble:b->width_];
    [p setYWithDouble:0];
    break;
    case OrgScilabForgeJlatexmathRotateBox_BBC:
    [((id<OrgScilabForgeJlatexmathPlatformGeomPoint2D>) nil_chk(p)) setXWithDouble:b->width_ / 2];
    [p setYWithDouble:0];
    break;
    case OrgScilabForgeJlatexmathRotateBox_CL:
    [((id<OrgScilabForgeJlatexmathPlatformGeomPoint2D>) nil_chk(p)) setXWithDouble:0];
    [p setYWithDouble:(b->height_ - b->depth_) / 2];
    break;
    case OrgScilabForgeJlatexmathRotateBox_CR:
    [((id<OrgScilabForgeJlatexmathPlatformGeomPoint2D>) nil_chk(p)) setXWithDouble:b->width_];
    [p setYWithDouble:(b->height_ - b->depth_) / 2];
    break;
    case OrgScilabForgeJlatexmathRotateBox_CC:
    [((id<OrgScilabForgeJlatexmathPlatformGeomPoint2D>) nil_chk(p)) setXWithDouble:b->width_ / 2];
    [p setYWithDouble:(b->height_ - b->depth_) / 2];
    break;
    default:
    ;
  }
  return p;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgScilabForgeJlatexmathRotateBox)
