//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/jacky/GSoC/GeoGebraiOSARC/GeoGebraiOSARC/javasources/org/scilab/forge/jlatexmath/JavaFontRenderingBox.java
//


#include "Box.h"
#include "Font.h"
#include "FontAdapter.h"
#include "FontRenderContext.h"
#include "Graphics.h"
#include "Graphics2DInterface.h"
#include "Image.h"
#include "J2ObjC_source.h"
#include "JavaFontRenderingBox.h"
#include "Rectangle2D.h"
#include "TextAttribute.h"
#include "TextLayout.h"
#include "java/lang/Exception.h"
#include "java/lang/Integer.h"
#include "java/util/HashMap.h"
#include "java/util/Map.h"

@interface OrgScilabForgeJlatexmathJavaFontRenderingBox () {
 @public
  NSString *str_;
  id<OrgScilabForgeJlatexmathPlatformFontTextLayout> text_;
  jfloat size_;
}

@end

J2OBJC_FIELD_SETTER(OrgScilabForgeJlatexmathJavaFontRenderingBox, str_, NSString *)
J2OBJC_FIELD_SETTER(OrgScilabForgeJlatexmathJavaFontRenderingBox, text_, id<OrgScilabForgeJlatexmathPlatformFontTextLayout>)

static id<OrgScilabForgeJlatexmathPlatformGraphicsGraphics2DInterface> OrgScilabForgeJlatexmathJavaFontRenderingBox_TEMPGRAPHIC_;
J2OBJC_STATIC_FIELD_GETTER(OrgScilabForgeJlatexmathJavaFontRenderingBox, TEMPGRAPHIC_, id<OrgScilabForgeJlatexmathPlatformGraphicsGraphics2DInterface>)

static OrgScilabForgeJlatexmathPlatformFontAdapter *OrgScilabForgeJlatexmathJavaFontRenderingBox_fontAdapter_;
J2OBJC_STATIC_FIELD_GETTER(OrgScilabForgeJlatexmathJavaFontRenderingBox, fontAdapter_, OrgScilabForgeJlatexmathPlatformFontAdapter *)

static id<OrgScilabForgeJlatexmathPlatformFontFont> OrgScilabForgeJlatexmathJavaFontRenderingBox_font_;
J2OBJC_STATIC_FIELD_GETTER(OrgScilabForgeJlatexmathJavaFontRenderingBox, font_, id<OrgScilabForgeJlatexmathPlatformFontFont>)
J2OBJC_STATIC_FIELD_SETTER(OrgScilabForgeJlatexmathJavaFontRenderingBox, font_, id<OrgScilabForgeJlatexmathPlatformFontFont>)

static id<OrgScilabForgeJlatexmathPlatformFontTextAttribute> OrgScilabForgeJlatexmathJavaFontRenderingBox_KERNING_;
J2OBJC_STATIC_FIELD_GETTER(OrgScilabForgeJlatexmathJavaFontRenderingBox, KERNING_, id<OrgScilabForgeJlatexmathPlatformFontTextAttribute>)
J2OBJC_STATIC_FIELD_SETTER(OrgScilabForgeJlatexmathJavaFontRenderingBox, KERNING_, id<OrgScilabForgeJlatexmathPlatformFontTextAttribute>)

static JavaLangInteger *OrgScilabForgeJlatexmathJavaFontRenderingBox_KERNING_ON_;
J2OBJC_STATIC_FIELD_GETTER(OrgScilabForgeJlatexmathJavaFontRenderingBox, KERNING_ON_, JavaLangInteger *)
J2OBJC_STATIC_FIELD_SETTER(OrgScilabForgeJlatexmathJavaFontRenderingBox, KERNING_ON_, JavaLangInteger *)

static id<OrgScilabForgeJlatexmathPlatformFontTextAttribute> OrgScilabForgeJlatexmathJavaFontRenderingBox_LIGATURES_;
J2OBJC_STATIC_FIELD_GETTER(OrgScilabForgeJlatexmathJavaFontRenderingBox, LIGATURES_, id<OrgScilabForgeJlatexmathPlatformFontTextAttribute>)
J2OBJC_STATIC_FIELD_SETTER(OrgScilabForgeJlatexmathJavaFontRenderingBox, LIGATURES_, id<OrgScilabForgeJlatexmathPlatformFontTextAttribute>)

static JavaLangInteger *OrgScilabForgeJlatexmathJavaFontRenderingBox_LIGATURES_ON_;
J2OBJC_STATIC_FIELD_GETTER(OrgScilabForgeJlatexmathJavaFontRenderingBox, LIGATURES_ON_, JavaLangInteger *)
J2OBJC_STATIC_FIELD_SETTER(OrgScilabForgeJlatexmathJavaFontRenderingBox, LIGATURES_ON_, JavaLangInteger *)

J2OBJC_INITIALIZED_DEFN(OrgScilabForgeJlatexmathJavaFontRenderingBox)

@implementation OrgScilabForgeJlatexmathJavaFontRenderingBox

- (instancetype)initWithNSString:(NSString *)str
                         withInt:(jint)type
                       withFloat:(jfloat)size
withOrgScilabForgeJlatexmathPlatformFontFont:(id<OrgScilabForgeJlatexmathPlatformFontFont>)f
                     withBoolean:(jboolean)kerning {
  OrgScilabForgeJlatexmathJavaFontRenderingBox_initWithNSString_withInt_withFloat_withOrgScilabForgeJlatexmathPlatformFontFont_withBoolean_(self, str, type, size, f, kerning);
  return self;
}

- (instancetype)initWithNSString:(NSString *)str
                         withInt:(jint)type
                       withFloat:(jfloat)size {
  OrgScilabForgeJlatexmathJavaFontRenderingBox_initWithNSString_withInt_withFloat_(self, str, type, size);
  return self;
}

+ (void)setFontWithNSString:(NSString *)name {
  OrgScilabForgeJlatexmathJavaFontRenderingBox_setFontWithNSString_(name);
}

- (void)drawWithOrgScilabForgeJlatexmathPlatformGraphicsGraphics2DInterface:(id<OrgScilabForgeJlatexmathPlatformGraphicsGraphics2DInterface>)g2
                                                                  withFloat:(jfloat)x
                                                                  withFloat:(jfloat)y {
  [self drawDebugWithOrgScilabForgeJlatexmathPlatformGraphicsGraphics2DInterface:g2 withFloat:x withFloat:y];
  [((id<OrgScilabForgeJlatexmathPlatformGraphicsGraphics2DInterface>) nil_chk(g2)) translateWithDouble:x withDouble:y];
  [g2 scale__WithDouble:0.1 * size_ withDouble:0.1 * size_];
  [((id<OrgScilabForgeJlatexmathPlatformFontTextLayout>) nil_chk(text_)) drawWithOrgScilabForgeJlatexmathPlatformGraphicsGraphics2DInterface:g2 withInt:0 withInt:0];
  [g2 scale__WithDouble:10 / size_ withDouble:10 / size_];
  [g2 translateWithDouble:-x withDouble:-y];
}

- (jint)getLastFontId {
  return 0;
}

+ (void)initialize {
  if (self == [OrgScilabForgeJlatexmathJavaFontRenderingBox class]) {
    {
      OrgScilabForgeJlatexmathJavaFontRenderingBox_TEMPGRAPHIC_ = [((id<OrgScilabForgeJlatexmathPlatformGraphicsImage>) nil_chk([new_OrgScilabForgeJlatexmathPlatformGraphics_init() createImageWithInt:1 withInt:1])) createGraphics2D];
      OrgScilabForgeJlatexmathJavaFontRenderingBox_fontAdapter_ = new_OrgScilabForgeJlatexmathPlatformFontAdapter_init();
      OrgScilabForgeJlatexmathJavaFontRenderingBox_font_ = [OrgScilabForgeJlatexmathJavaFontRenderingBox_fontAdapter_ createFontWithNSString:@"Serif" withInt:OrgScilabForgeJlatexmathPlatformFontFont_PLAIN withInt:10];
      @try {
        OrgScilabForgeJlatexmathJavaFontRenderingBox_KERNING_ = [OrgScilabForgeJlatexmathJavaFontRenderingBox_fontAdapter_ getTextAttributeWithNSString:@"KERNING"];
        OrgScilabForgeJlatexmathJavaFontRenderingBox_KERNING_ON_ = [OrgScilabForgeJlatexmathJavaFontRenderingBox_fontAdapter_ getTextAttributeValueWithNSString:@"KERNING_ON"];
        OrgScilabForgeJlatexmathJavaFontRenderingBox_LIGATURES_ = [OrgScilabForgeJlatexmathJavaFontRenderingBox_fontAdapter_ getTextAttributeWithNSString:@"LIGATURES"];
        OrgScilabForgeJlatexmathJavaFontRenderingBox_LIGATURES_ON_ = [OrgScilabForgeJlatexmathJavaFontRenderingBox_fontAdapter_ getTextAttributeValueWithNSString:@"LIGATURES_ON"];
      }
      @catch (JavaLangException *e) {
      }
    }
    J2OBJC_SET_INITIALIZED(OrgScilabForgeJlatexmathJavaFontRenderingBox)
  }
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "initWithNSString:withInt:withFloat:withOrgScilabForgeJlatexmathPlatformFontFont:withBoolean:", "JavaFontRenderingBox", NULL, 0x1, NULL, NULL },
    { "initWithNSString:withInt:withFloat:", "JavaFontRenderingBox", NULL, 0x1, NULL, NULL },
    { "setFontWithNSString:", "setFont", "V", 0x9, NULL, NULL },
    { "drawWithOrgScilabForgeJlatexmathPlatformGraphicsGraphics2DInterface:withFloat:withFloat:", "draw", "V", 0x1, NULL, NULL },
    { "getLastFontId", NULL, "I", 0x1, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "TEMPGRAPHIC_", NULL, 0x1a, "Lorg.scilab.forge.jlatexmath.platform.graphics.Graphics2DInterface;", &OrgScilabForgeJlatexmathJavaFontRenderingBox_TEMPGRAPHIC_, NULL,  },
    { "fontAdapter_", NULL, 0x1a, "Lorg.scilab.forge.jlatexmath.platform.FontAdapter;", &OrgScilabForgeJlatexmathJavaFontRenderingBox_fontAdapter_, NULL,  },
    { "font_", NULL, 0xa, "Lorg.scilab.forge.jlatexmath.platform.font.Font;", &OrgScilabForgeJlatexmathJavaFontRenderingBox_font_, NULL,  },
    { "str_", NULL, 0x2, "Ljava.lang.String;", NULL, NULL,  },
    { "text_", NULL, 0x2, "Lorg.scilab.forge.jlatexmath.platform.font.TextLayout;", NULL, NULL,  },
    { "size_", NULL, 0x2, "F", NULL, NULL,  },
    { "KERNING_", NULL, 0xa, "Lorg.scilab.forge.jlatexmath.platform.font.TextAttribute;", &OrgScilabForgeJlatexmathJavaFontRenderingBox_KERNING_, NULL,  },
    { "KERNING_ON_", NULL, 0xa, "Ljava.lang.Integer;", &OrgScilabForgeJlatexmathJavaFontRenderingBox_KERNING_ON_, NULL,  },
    { "LIGATURES_", NULL, 0xa, "Lorg.scilab.forge.jlatexmath.platform.font.TextAttribute;", &OrgScilabForgeJlatexmathJavaFontRenderingBox_LIGATURES_, NULL,  },
    { "LIGATURES_ON_", NULL, 0xa, "Ljava.lang.Integer;", &OrgScilabForgeJlatexmathJavaFontRenderingBox_LIGATURES_ON_, NULL,  },
  };
  static const J2ObjcClassInfo _OrgScilabForgeJlatexmathJavaFontRenderingBox = { 2, "JavaFontRenderingBox", "org.scilab.forge.jlatexmath", NULL, 0x1, 5, methods, 10, fields, 0, NULL, 0, NULL, NULL, NULL };
  return &_OrgScilabForgeJlatexmathJavaFontRenderingBox;
}

@end

void OrgScilabForgeJlatexmathJavaFontRenderingBox_initWithNSString_withInt_withFloat_withOrgScilabForgeJlatexmathPlatformFontFont_withBoolean_(OrgScilabForgeJlatexmathJavaFontRenderingBox *self, NSString *str, jint type, jfloat size, id<OrgScilabForgeJlatexmathPlatformFontFont> f, jboolean kerning) {
  (void) OrgScilabForgeJlatexmathBox_init(self);
  self->str_ = str;
  self->size_ = size;
  if (kerning && OrgScilabForgeJlatexmathJavaFontRenderingBox_KERNING_ != nil) {
    id<JavaUtilMap> map = new_JavaUtilHashMap_init();
    (void) [map putWithId:OrgScilabForgeJlatexmathJavaFontRenderingBox_KERNING_ withId:OrgScilabForgeJlatexmathJavaFontRenderingBox_KERNING_ON_];
    (void) [map putWithId:OrgScilabForgeJlatexmathJavaFontRenderingBox_LIGATURES_ withId:OrgScilabForgeJlatexmathJavaFontRenderingBox_LIGATURES_ON_];
    f = [((id<OrgScilabForgeJlatexmathPlatformFontFont>) nil_chk(f)) deriveFontWithJavaUtilMap:map];
  }
  self->text_ = [((OrgScilabForgeJlatexmathPlatformFontAdapter *) nil_chk(OrgScilabForgeJlatexmathJavaFontRenderingBox_fontAdapter_)) createTextLayoutWithNSString:str withOrgScilabForgeJlatexmathPlatformFontFont:[((id<OrgScilabForgeJlatexmathPlatformFontFont>) nil_chk(f)) deriveFontWithInt:type] withOrgScilabForgeJlatexmathPlatformFontFontRenderContext:[((id<OrgScilabForgeJlatexmathPlatformGraphicsGraphics2DInterface>) nil_chk(OrgScilabForgeJlatexmathJavaFontRenderingBox_TEMPGRAPHIC_)) getFontRenderContext]];
  id<OrgScilabForgeJlatexmathPlatformGeomRectangle2D> rect = [((id<OrgScilabForgeJlatexmathPlatformFontTextLayout>) nil_chk(self->text_)) getBounds];
  self->height_ = (jfloat) (-[((id<OrgScilabForgeJlatexmathPlatformGeomRectangle2D>) nil_chk(rect)) getY] * size / 10);
  self->depth_ = (jfloat) ([rect getHeight] * size / 10) - self->height_;
  self->width_ = (jfloat) (([rect getWidth] + [rect getX] + 0.4f) * size / 10);
}

OrgScilabForgeJlatexmathJavaFontRenderingBox *new_OrgScilabForgeJlatexmathJavaFontRenderingBox_initWithNSString_withInt_withFloat_withOrgScilabForgeJlatexmathPlatformFontFont_withBoolean_(NSString *str, jint type, jfloat size, id<OrgScilabForgeJlatexmathPlatformFontFont> f, jboolean kerning) {
  OrgScilabForgeJlatexmathJavaFontRenderingBox *self = [OrgScilabForgeJlatexmathJavaFontRenderingBox alloc];
  OrgScilabForgeJlatexmathJavaFontRenderingBox_initWithNSString_withInt_withFloat_withOrgScilabForgeJlatexmathPlatformFontFont_withBoolean_(self, str, type, size, f, kerning);
  return self;
}

void OrgScilabForgeJlatexmathJavaFontRenderingBox_initWithNSString_withInt_withFloat_(OrgScilabForgeJlatexmathJavaFontRenderingBox *self, NSString *str, jint type, jfloat size) {
  (void) OrgScilabForgeJlatexmathJavaFontRenderingBox_initWithNSString_withInt_withFloat_withOrgScilabForgeJlatexmathPlatformFontFont_withBoolean_(self, str, type, size, OrgScilabForgeJlatexmathJavaFontRenderingBox_font_, YES);
}

OrgScilabForgeJlatexmathJavaFontRenderingBox *new_OrgScilabForgeJlatexmathJavaFontRenderingBox_initWithNSString_withInt_withFloat_(NSString *str, jint type, jfloat size) {
  OrgScilabForgeJlatexmathJavaFontRenderingBox *self = [OrgScilabForgeJlatexmathJavaFontRenderingBox alloc];
  OrgScilabForgeJlatexmathJavaFontRenderingBox_initWithNSString_withInt_withFloat_(self, str, type, size);
  return self;
}

void OrgScilabForgeJlatexmathJavaFontRenderingBox_setFontWithNSString_(NSString *name) {
  OrgScilabForgeJlatexmathJavaFontRenderingBox_initialize();
  OrgScilabForgeJlatexmathJavaFontRenderingBox_font_ = [((OrgScilabForgeJlatexmathPlatformFontAdapter *) nil_chk(OrgScilabForgeJlatexmathJavaFontRenderingBox_fontAdapter_)) createFontWithNSString:name withInt:OrgScilabForgeJlatexmathPlatformFontFont_PLAIN withInt:10];
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgScilabForgeJlatexmathJavaFontRenderingBox)
