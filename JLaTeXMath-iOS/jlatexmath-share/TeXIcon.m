//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/jacky/GSoC/GeoGebraiOSARC/GeoGebraiOSARC/javasources/org/scilab/forge/jlatexmath/TeXIcon.java
//


#include "Box.h"
#include "Color.h"
#include "ColorUtil.h"
#include "Graphics2DInterface.h"
#include "HasForegroundColor.h"
#include "HorizontalBox.h"
#include "Insets.h"
#include "J2ObjC_source.h"
#include "RenderingHints.h"
#include "TeXIcon.h"
#include "VerticalBox.h"
#include "java/lang/Math.h"

@interface OrgScilabForgeJlatexmathTeXIcon () {
 @public
  OrgScilabForgeJlatexmathBox *box_;
  jfloat size_;
  OrgScilabForgeJlatexmathPlatformGraphicsInsets *insets_;
  id<OrgScilabForgeJlatexmathPlatformGraphicsColor> fg_;
}

@end

J2OBJC_FIELD_SETTER(OrgScilabForgeJlatexmathTeXIcon, box_, OrgScilabForgeJlatexmathBox *)
J2OBJC_FIELD_SETTER(OrgScilabForgeJlatexmathTeXIcon, insets_, OrgScilabForgeJlatexmathPlatformGraphicsInsets *)
J2OBJC_FIELD_SETTER(OrgScilabForgeJlatexmathTeXIcon, fg_, id<OrgScilabForgeJlatexmathPlatformGraphicsColor>)

static id<OrgScilabForgeJlatexmathPlatformGraphicsColor> OrgScilabForgeJlatexmathTeXIcon_defaultColor_;
J2OBJC_STATIC_FIELD_GETTER(OrgScilabForgeJlatexmathTeXIcon, defaultColor_, id<OrgScilabForgeJlatexmathPlatformGraphicsColor>)

J2OBJC_INITIALIZED_DEFN(OrgScilabForgeJlatexmathTeXIcon)

jfloat OrgScilabForgeJlatexmathTeXIcon_defaultSize_ = -1;
jfloat OrgScilabForgeJlatexmathTeXIcon_magFactor_ = 0;

@implementation OrgScilabForgeJlatexmathTeXIcon

- (instancetype)initWithOrgScilabForgeJlatexmathBox:(OrgScilabForgeJlatexmathBox *)b
                                          withFloat:(jfloat)size {
  OrgScilabForgeJlatexmathTeXIcon_initWithOrgScilabForgeJlatexmathBox_withFloat_(self, b, size);
  return self;
}

- (instancetype)initWithOrgScilabForgeJlatexmathBox:(OrgScilabForgeJlatexmathBox *)b
                                          withFloat:(jfloat)size
                                        withBoolean:(jboolean)trueValues {
  OrgScilabForgeJlatexmathTeXIcon_initWithOrgScilabForgeJlatexmathBox_withFloat_withBoolean_(self, b, size, trueValues);
  return self;
}

- (void)setForegroundWithOrgScilabForgeJlatexmathPlatformGraphicsColor:(id<OrgScilabForgeJlatexmathPlatformGraphicsColor>)fg {
  self->fg_ = fg;
}

- (OrgScilabForgeJlatexmathPlatformGraphicsInsets *)getInsets {
  return insets_;
}

- (void)setInsetsWithOrgScilabForgeJlatexmathPlatformGraphicsInsets:(OrgScilabForgeJlatexmathPlatformGraphicsInsets *)insets
                                                        withBoolean:(jboolean)trueValues {
  self->insets_ = insets;
  if (!trueValues) {
    ((OrgScilabForgeJlatexmathPlatformGraphicsInsets *) nil_chk(self->insets_))->top_ += J2ObjCFpToInt((0.18f * size_));
    self->insets_->bottom_ += J2ObjCFpToInt((0.18f * size_));
    self->insets_->left_ += J2ObjCFpToInt((0.18f * size_));
    self->insets_->right_ += J2ObjCFpToInt((0.18f * size_));
  }
}

- (void)setInsetsWithOrgScilabForgeJlatexmathPlatformGraphicsInsets:(OrgScilabForgeJlatexmathPlatformGraphicsInsets *)insets {
  [self setInsetsWithOrgScilabForgeJlatexmathPlatformGraphicsInsets:insets withBoolean:NO];
}

- (void)setIconWidthWithInt:(jint)width
                    withInt:(jint)alignment {
  jfloat diff = width - [self getIconWidth];
  if (diff > 0) box_ = new_OrgScilabForgeJlatexmathHorizontalBox_initWithOrgScilabForgeJlatexmathBox_withFloat_withInt_(box_, [((OrgScilabForgeJlatexmathBox *) nil_chk(box_)) getWidth] + diff, alignment);
}

- (void)setIconHeightWithInt:(jint)height
                     withInt:(jint)alignment {
  jfloat diff = height - [self getIconHeight];
  if (diff > 0) box_ = new_OrgScilabForgeJlatexmathVerticalBox_initWithOrgScilabForgeJlatexmathBox_withFloat_withInt_(box_, diff, alignment);
}

- (jint)getIconHeight {
  return (J2ObjCFpToInt((([((OrgScilabForgeJlatexmathBox *) nil_chk(box_)) getHeight]) * size_ + 0.99 + ((OrgScilabForgeJlatexmathPlatformGraphicsInsets *) nil_chk(insets_))->top_))) + (J2ObjCFpToInt((([box_ getDepth]) * size_ + 0.99 + insets_->bottom_)));
}

- (jint)getIconDepth {
  return J2ObjCFpToInt(([((OrgScilabForgeJlatexmathBox *) nil_chk(box_)) getDepth] * size_ + 0.99 + ((OrgScilabForgeJlatexmathPlatformGraphicsInsets *) nil_chk(insets_))->bottom_));
}

- (jint)getIconWidth {
  return J2ObjCFpToInt(([((OrgScilabForgeJlatexmathBox *) nil_chk(box_)) getWidth] * size_ + 0.99 + ((OrgScilabForgeJlatexmathPlatformGraphicsInsets *) nil_chk(insets_))->left_ + insets_->right_));
}

- (jfloat)getTrueIconHeight {
  return ([((OrgScilabForgeJlatexmathBox *) nil_chk(box_)) getHeight] + [box_ getDepth]) * size_;
}

- (jfloat)getTrueIconDepth {
  return [((OrgScilabForgeJlatexmathBox *) nil_chk(box_)) getDepth] * size_;
}

- (jfloat)getTrueIconWidth {
  return [((OrgScilabForgeJlatexmathBox *) nil_chk(box_)) getWidth] * size_;
}

- (jfloat)getBaseLine {
  return (jfloat) (([((OrgScilabForgeJlatexmathBox *) nil_chk(box_)) getHeight] * size_ + 0.99 + ((OrgScilabForgeJlatexmathPlatformGraphicsInsets *) nil_chk(insets_))->top_) / (([box_ getHeight] + [box_ getDepth]) * size_ + 0.99 + insets_->top_ + insets_->bottom_));
}

- (OrgScilabForgeJlatexmathBox *)getBox {
  return box_;
}

- (void)paintIconWithOrgScilabForgeJlatexmathPlatformGraphicsHasForegroundColor:(id<OrgScilabForgeJlatexmathPlatformGraphicsHasForegroundColor>)c
                withOrgScilabForgeJlatexmathPlatformGraphicsGraphics2DInterface:(id<OrgScilabForgeJlatexmathPlatformGraphicsGraphics2DInterface>)g2
                                                                        withInt:(jint)x
                                                                        withInt:(jint)y {
  [((id<OrgScilabForgeJlatexmathPlatformGraphicsGraphics2DInterface>) nil_chk(g2)) saveTransformation];
  id<OrgScilabForgeJlatexmathPlatformGraphicsColor> oldColor = [g2 getColor];
  [g2 setRenderingHintWithInt:OrgScilabForgeJlatexmathPlatformGraphicsRenderingHints_KEY_ANTIALIASING withInt:OrgScilabForgeJlatexmathPlatformGraphicsRenderingHints_VALUE_ANTIALIAS_ON];
  [g2 setRenderingHintWithInt:OrgScilabForgeJlatexmathPlatformGraphicsRenderingHints_KEY_RENDERING withInt:OrgScilabForgeJlatexmathPlatformGraphicsRenderingHints_VALUE_RENDER_QUALITY];
  [g2 setRenderingHintWithInt:OrgScilabForgeJlatexmathPlatformGraphicsRenderingHints_KEY_TEXT_ANTIALIASING withInt:OrgScilabForgeJlatexmathPlatformGraphicsRenderingHints_VALUE_TEXT_ANTIALIAS_ON];
  [g2 scale__WithDouble:size_ withDouble:size_];
  if (fg_ != nil) {
    [g2 setColorWithOrgScilabForgeJlatexmathPlatformGraphicsColor:fg_];
  }
  else if (c != nil) {
    [g2 setColorWithOrgScilabForgeJlatexmathPlatformGraphicsColor:[c getForegroundColor]];
  }
  else {
    [g2 setColorWithOrgScilabForgeJlatexmathPlatformGraphicsColor:OrgScilabForgeJlatexmathTeXIcon_defaultColor_];
  }
  [box_ drawWithOrgScilabForgeJlatexmathPlatformGraphicsGraphics2DInterface:g2 withFloat:(x + ((OrgScilabForgeJlatexmathPlatformGraphicsInsets *) nil_chk(insets_))->left_) / size_ withFloat:(y + insets_->top_) / size_ + [((OrgScilabForgeJlatexmathBox *) nil_chk(box_)) getHeight]];
  [g2 restoreTransformation];
  [g2 setColorWithOrgScilabForgeJlatexmathPlatformGraphicsColor:oldColor];
}

+ (void)initialize {
  if (self == [OrgScilabForgeJlatexmathTeXIcon class]) {
    OrgScilabForgeJlatexmathTeXIcon_defaultColor_ = OrgScilabForgeJlatexmathColorUtil_get_BLACK_();
    J2OBJC_SET_INITIALIZED(OrgScilabForgeJlatexmathTeXIcon)
  }
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "initWithOrgScilabForgeJlatexmathBox:withFloat:", "TeXIcon", NULL, 0x4, NULL, NULL },
    { "initWithOrgScilabForgeJlatexmathBox:withFloat:withBoolean:", "TeXIcon", NULL, 0x4, NULL, NULL },
    { "setForegroundWithOrgScilabForgeJlatexmathPlatformGraphicsColor:", "setForeground", "V", 0x1, NULL, NULL },
    { "getInsets", NULL, "Lorg.scilab.forge.jlatexmath.platform.graphics.Insets;", 0x1, NULL, NULL },
    { "setInsetsWithOrgScilabForgeJlatexmathPlatformGraphicsInsets:withBoolean:", "setInsets", "V", 0x1, NULL, NULL },
    { "setInsetsWithOrgScilabForgeJlatexmathPlatformGraphicsInsets:", "setInsets", "V", 0x1, NULL, NULL },
    { "setIconWidthWithInt:withInt:", "setIconWidth", "V", 0x1, NULL, NULL },
    { "setIconHeightWithInt:withInt:", "setIconHeight", "V", 0x1, NULL, NULL },
    { "getIconHeight", NULL, "I", 0x1, NULL, NULL },
    { "getIconDepth", NULL, "I", 0x1, NULL, NULL },
    { "getIconWidth", NULL, "I", 0x1, NULL, NULL },
    { "getTrueIconHeight", NULL, "F", 0x1, NULL, NULL },
    { "getTrueIconDepth", NULL, "F", 0x1, NULL, NULL },
    { "getTrueIconWidth", NULL, "F", 0x1, NULL, NULL },
    { "getBaseLine", NULL, "F", 0x1, NULL, NULL },
    { "getBox", NULL, "Lorg.scilab.forge.jlatexmath.Box;", 0x1, NULL, NULL },
    { "paintIconWithOrgScilabForgeJlatexmathPlatformGraphicsHasForegroundColor:withOrgScilabForgeJlatexmathPlatformGraphicsGraphics2DInterface:withInt:withInt:", "paintIcon", "V", 0x1, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "defaultColor_", NULL, 0x1a, "Lorg.scilab.forge.jlatexmath.platform.graphics.Color;", &OrgScilabForgeJlatexmathTeXIcon_defaultColor_, NULL,  },
    { "defaultSize_", NULL, 0x9, "F", &OrgScilabForgeJlatexmathTeXIcon_defaultSize_, NULL,  },
    { "magFactor_", NULL, 0x9, "F", &OrgScilabForgeJlatexmathTeXIcon_magFactor_, NULL,  },
    { "box_", NULL, 0x2, "Lorg.scilab.forge.jlatexmath.Box;", NULL, NULL,  },
    { "size_", NULL, 0x12, "F", NULL, NULL,  },
    { "insets_", NULL, 0x2, "Lorg.scilab.forge.jlatexmath.platform.graphics.Insets;", NULL, NULL,  },
    { "fg_", NULL, 0x2, "Lorg.scilab.forge.jlatexmath.platform.graphics.Color;", NULL, NULL,  },
    { "isColored_", NULL, 0x1, "Z", NULL, NULL,  },
  };
  static const J2ObjcClassInfo _OrgScilabForgeJlatexmathTeXIcon = { 2, "TeXIcon", "org.scilab.forge.jlatexmath", NULL, 0x1, 17, methods, 8, fields, 0, NULL, 0, NULL, NULL, NULL };
  return &_OrgScilabForgeJlatexmathTeXIcon;
}

@end

void OrgScilabForgeJlatexmathTeXIcon_initWithOrgScilabForgeJlatexmathBox_withFloat_(OrgScilabForgeJlatexmathTeXIcon *self, OrgScilabForgeJlatexmathBox *b, jfloat size) {
  (void) OrgScilabForgeJlatexmathTeXIcon_initWithOrgScilabForgeJlatexmathBox_withFloat_withBoolean_(self, b, size, NO);
}

OrgScilabForgeJlatexmathTeXIcon *new_OrgScilabForgeJlatexmathTeXIcon_initWithOrgScilabForgeJlatexmathBox_withFloat_(OrgScilabForgeJlatexmathBox *b, jfloat size) {
  OrgScilabForgeJlatexmathTeXIcon *self = [OrgScilabForgeJlatexmathTeXIcon alloc];
  OrgScilabForgeJlatexmathTeXIcon_initWithOrgScilabForgeJlatexmathBox_withFloat_(self, b, size);
  return self;
}

void OrgScilabForgeJlatexmathTeXIcon_initWithOrgScilabForgeJlatexmathBox_withFloat_withBoolean_(OrgScilabForgeJlatexmathTeXIcon *self, OrgScilabForgeJlatexmathBox *b, jfloat size, jboolean trueValues) {
  (void) NSObject_init(self);
  self->insets_ = new_OrgScilabForgeJlatexmathPlatformGraphicsInsets_initWithInt_withInt_withInt_withInt_(0, 0, 0, 0);
  self->fg_ = nil;
  self->isColored_ = NO;
  self->box_ = b;
  if (OrgScilabForgeJlatexmathTeXIcon_defaultSize_ != -1) {
    size = OrgScilabForgeJlatexmathTeXIcon_defaultSize_;
  }
  if (OrgScilabForgeJlatexmathTeXIcon_magFactor_ != 0) {
    self->size_ = size * JavaLangMath_absWithFloat_(OrgScilabForgeJlatexmathTeXIcon_magFactor_);
  }
  else {
    self->size_ = size;
  }
  if (!trueValues) {
    self->insets_->top_ += J2ObjCFpToInt((0.18f * size));
    self->insets_->bottom_ += J2ObjCFpToInt((0.18f * size));
    self->insets_->left_ += J2ObjCFpToInt((0.18f * size));
    self->insets_->right_ += J2ObjCFpToInt((0.18f * size));
  }
}

OrgScilabForgeJlatexmathTeXIcon *new_OrgScilabForgeJlatexmathTeXIcon_initWithOrgScilabForgeJlatexmathBox_withFloat_withBoolean_(OrgScilabForgeJlatexmathBox *b, jfloat size, jboolean trueValues) {
  OrgScilabForgeJlatexmathTeXIcon *self = [OrgScilabForgeJlatexmathTeXIcon alloc];
  OrgScilabForgeJlatexmathTeXIcon_initWithOrgScilabForgeJlatexmathBox_withFloat_withBoolean_(self, b, size, trueValues);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgScilabForgeJlatexmathTeXIcon)
